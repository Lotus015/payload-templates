=== Iteration 1 - S1 - 2026-01-19 ===
Status: COMPLETE
Learnings:
- pnpm workspaces work with empty directories (only .gitkeep files)
- pnpm install succeeds even without any packages in workspaces
- Root package.json needs "private": true for monorepo setup
- Used .gitkeep files to preserve empty directories in git
- Test passed: pnpm install completed successfully

=== Iteration 2 - S2 - 2026-01-19 ===
Status: COMPLETE
Learnings:
- ES modules require "type": "module" in package.json
- kleur works well for simple colorized CLI output
- Shebang (#!/usr/bin/env node) required for CLI bin executables
- pnpm automatically picks up new workspace packages on install
- Removed .gitkeep after adding real files to cli/ directory
- Test passed: node cli/bin/index.js displays welcome message

=== Iteration 3 - S3 - 2026-01-19 ===
Status: COMPLETE
Learnings:
- Tailwind CSS v4 requires @tailwindcss/postcss package (not tailwindcss directly as PostCSS plugin)
- Tailwind CSS v4 uses CSS-based config with @import "tailwindcss" instead of tailwind.config.js
- Next.js 16 automatically modifies tsconfig.json (jsx changed to react-jsx, include updated)
- Next.js 16 with Turbopack shows workspace root warning when multiple lockfiles detected
- pnpm workspaces automatically install dependencies from sub-packages
- Test passed: cd templates/premium && pnpm install && pnpm build

=== Iteration 4 - S4 - 2026-01-19 ===
Status: COMPLETE
Learnings:
- Payload CMS 3.x has peer dependency warning with Next.js 16 (expects Next.js 15.x) but builds successfully
- Payload 3.x uses handleServerFunctions from @payloadcms/next/layouts instead of payload.serverFunction()
- Admin routes require (payload) route group with [[...segments]] dynamic catch-all
- API routes need separate handlers for REST (/api/[[...slug]]) and GraphQL (/api/graphql)
- @payload-config TypeScript path alias required in tsconfig.json
- sass package required for Payload admin SCSS styles
- importMap.js exports an empty object by default, populated when custom components are added
- graphql package is a required dependency for Payload 3.x
- Test passed: cd templates/premium && pnpm build

=== Iteration 5 - S5 - 2026-01-19 ===
Status: COMPLETE
Learnings:
- Payload CMS 3.x collections can be defined as separate files with CollectionConfig type
- Collections use export barrel (index.ts) for clean imports in payload.config.ts
- Group field type allows nested field structures (used for hero section in Pages)
- Upload collection with mimeTypes filter restricts allowed file types
- Relationship to media collection uses `type: 'upload'` with `relationTo: 'media'`
- TypeScript types (payload-types.ts) are generated when Payload runs with DB connection, not at build time
- Build compilation validates collection schemas without requiring DB connection
- Test passed: cd templates/premium && pnpm build

=== Iteration 6 - S6 - 2026-01-19 ===
Status: COMPLETE
Learnings:
- Payload 3.x number fields support min/max validation for range constraints (used for rating 1-5)
- Email field type provides built-in email validation
- Checkbox field type with defaultValue: false for boolean flags (read status)
- Date field supports pickerAppearance: 'dayOnly' or 'dayAndTime' for different use cases
- Collections with relationships to Media use `type: 'upload'` with `relationTo: 'media'`
- Pattern from S5 continued: alphabetical ordering in barrel exports and config imports keeps code organized
- Build validates all collection schemas without requiring database connection
- Test passed: cd templates/premium && pnpm build

=== Iteration 7 - S7 - 2026-01-19 ===
Status: COMPLETE
Learnings:
- Payload 3.x globals use GlobalConfig type (different from CollectionConfig)
- Globals are registered via `globals: [...]` array in buildConfig (not within collections)
- Global slugs use kebab-case by convention (e.g., 'site-settings', 'theme-settings')
- Globals support same field types as collections including arrays, uploads, selects
- Default values work well for required fields in globals (ensures valid initial state)
- Array field type perfect for repeatable structures like socialLinks
- Select field type with options array provides dropdown UI in admin
- Pattern continued: barrel export (globals/index.ts) keeps imports clean
- Test passed: cd templates/premium && pnpm build

=== Iteration 8 - S8 - 2026-01-19 ===
Status: COMPLETE
Learnings:
- shadcn/ui with Tailwind v4 requires @theme inline block for color mapping
- Tailwind v4 uses hsl() wrapper for CSS variable colors in @theme inline
- components.json config uses "new-york" style and "rsc": true for React Server Components
- Radix UI primitives work well with React 19 and Next.js 16
- CSS variables for shadcn/ui colors set in @layer base :root and .dark
- Manual component installation preferred over CLI for full control
- Dependencies needed: clsx, tailwind-merge, class-variance-authority, lucide-react
- Radix packages for components: @radix-ui/react-accordion, dialog, label, navigation-menu, separator, slot
- Form component requires react-hook-form, @hookform/resolvers, and zod
- Accordion animations defined via @keyframes in @theme inline block
- lib/utils.ts cn() function combines clsx and tailwind-merge for class merging
- Test passed: cd templates/premium && pnpm build

=== Iteration 9 - S9 - 2026-01-19 ===
Status: COMPLETE
Learnings:
- Hex to HSL conversion: Navy #1a1f36 → HSL 225 37% 16%, Gold #d4af37 → HSL 44 64% 52%
- Tailwind v4 font families defined in @theme inline block as --font-sans, --font-serif, etc.
- next/font/google fonts use `variable` prop to create CSS variables (--font-playfair, --font-inter)
- Font variables must be applied to html element via className for Tailwind to access them
- CSS variables in @layer base :root and .dark enable proper dark/light mode switching
- Premium theme colors extend shadcn/ui's base color system (primary=navy, secondary/accent=gold)
- Extended color palette (--premium-navy, --premium-gold, --premium-cream) mapped in @theme inline for Tailwind utility classes
- antialiased class on body provides smoother font rendering
- Pattern: Keep base shadcn color mappings intact, add theme-specific colors alongside
- Test passed: cd templates/premium && pnpm build

=== Iteration 10 - S10 - 2026-01-19 ===
Status: COMPLETE
Learnings:
- Header component uses 'use client' for Sheet state management (useState for mobile menu)
- Payload getPayload() with config import works for Server Components data fetching
- Navigation items dynamically fetched from Services collection using payload.find()
- Site settings fetched via payload.findGlobal({ slug: 'site-settings' })
- MainLayout is async Server Component that fetches and passes data to client Header/Footer
- Mobile-responsive achieved with lg: breakpoint (hidden lg:flex, lg:hidden patterns)
- Sheet component from shadcn/ui provides mobile menu drawer functionality
- NavigationMenuTrigger + NavigationMenuContent create dropdown menus for services
- Pattern: Use try/catch in getLayoutData() with fallback defaults for build without DB
- Type assertions needed when extracting Payload data (e.g., service.title as string)
- Barrel export (layout/index.ts) maintains clean import pattern from previous stories
- Test passed: cd templates/premium && pnpm build

=== Iteration 11 - S11 - 2026-01-19 ===
Status: COMPLETE
Learnings:
- Homepage sections organized in features/home/components/ directory for feature-based structure
- HeroSection: Uses optional background image with gradient fallback, responsive with min-h-[600px] lg:min-h-[700px]
- ServicesSection: Icon mapping (lucide-react) from string names to components, grid layout with Card components
- AboutSection: Two-column layout with decorative elements, CheckCircle list for features
- TestimonialsSection: Client component ('use client') for carousel state, shows grid for ≤3 items, carousel for >3
- BlogSection: Featured image handling with fallback placeholder, date formatting with toLocaleDateString
- ContactSection: Full form with react-hook-form + zod validation, submits to /api/contact endpoint
- Pattern: All sections accept props with sensible defaults for standalone use or CMS integration
- Premium theme colors (navy, gold, cream) used consistently across all sections via Tailwind classes
- Barrel export (index.ts) alphabetically ordered for consistency with S10 pattern
- Test passed: cd templates/premium && pnpm build
